# ============================================
# üîÅ Redirecionar /schedule/web para o servidor Node (porta 21001)
# ============================================

RewriteEngine On

# Garantir que HTTPS esteja ativo
RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Encaminhar requisi√ß√µes de /schedule/web para o Node.js na porta 21001
RewriteCond %{REQUEST_URI} ^/schedule/web
RewriteRule ^/schedule/web(.*)$ http://localhost:21001//schedule/web$1 [P,L]

# ============================================
# ‚öôÔ∏è SPA (React/Vite) - fallback para index.html
# ============================================
# Se o proxy n√£o encontrar o arquivo, tenta o index.html da pasta dist
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^/schedule/web?$ //schedule/webindex.html [L]
